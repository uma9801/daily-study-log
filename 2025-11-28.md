#NumPy #python 
# NumPy
## 参照方法
### インデックス参照
1次元ndarray
`ndarray[1]`通常
`ndarray[1:2]`スライス
2次元ndarray
`ndarray[1][2]`
`ndarray[1,2]`
`ndarray[1:4][2:3]`
### 比較演算
`ndarray > 2`
### ブールインデックスによる参照
`ndarray[ndarray > 2]`
## 配列の演算方法
通常のリストにおいて、要素同士の計算は処理が遅く、記述量も多い。
例：以下の様にfor文で回す必要がある
```python
list_1 = [1, 2, 3, 4]
list_2 = [5, 6, 7, 8]

sum_list = []
for i in range(len(list_1)):
	sum_list.append(list_1[i] + list_2[i])
print(sum_list) # [6, 8, 10, 12]
```
ndarrayを使えば簡潔に計算が可能。
```python
array_1 = np.array([1, 2, 3, 4])
array_2 = np.array([5, 6, 7, 8])

array_3 = array_1 + array_2
print(array_3) # [6, 8, 10, 12]

array_4 = array_1 * array_2
print(array_4) # [ 5 12 21 32]

array_5 = array_1 / array_2
print(array_5) # [0.2 0.33333333 0.42857143 0.5 ]
```
## 配列の論理演算方法
ndarrayはandやorを用いた論理演算が可能。
これにより、複数の条件に当てはまる要素を抽出できる。
この効率的な要素抽出もndarrayの特徴。
```python
print(array_1 > 2)
print(array_1 == 3)
print(array_1 % 2 == 0)
print((array_1 > 2) | (array_1 % 2 ==0))
print((array_1 > 2) & (array_1 % 2 ==0))
# 論理演算で得られたブール値を参照して要素を抽出
print(array_1[(array_1 > 2) | (array_1 % 2 ==0)]) # 和集合
print(array_1[(array_1 > 2) & (array_1 % 2 ==0)]) # 共通部分（共通集合/積集合）
print(array_1[(array_1 > 2) & ~(array_1 % 2 ==0)]) # 否定
```
実行結果
```
[False False True True]
[False False True False]
[False True False True]
[False True True True]
[False False False True]
[2 3 4]
[4]
[3]
```
## 配列の分割・結合方法
### 結合
listは1次元配列として、後ろに追加する事しかできない。`list + list`
ndarrayは縦横に追加可能
`np.concatnate([ndarray, ndarray], axis=1)`
axis=0: 縦に結合
axis=1: 横（水平方向）に結合。axis無指定ではこちら。
以下でも代用可能。
`np.vstack([ndarray, ndarray])`: 縦に結合。vertical-stack
`np.hxtack([ndarray, ndarray])`: 水平方向に結合。horizontal-stack
### 分割
分割数は、配列数を割り切れる数でないとエラーになる。
`np.vsplit(ndarray, 分割数)`: 縦に分割。vertical
`np.hsplit(ndarray, 分割数)`: 水平方向に分割。horizontal
```python
array_ex = np.resize(array_3, [4,4])
a0, a1 = np.vsplit(array_ex, 2)
display(array_ex, a0, a1)
```
実行結果
```
array([[3, 5, 3, 5],
       [7, 4, 3, 5],
       [3, 5, 7, 4],
       [3, 5, 3, 5]])

array([[3, 5, 3, 5],
       [7, 4, 3, 5]])

array([[3, 5, 7, 4],
       [3, 5, 3, 5]])
```
## 出力結果の表示：print()かdisplay()か
どちらも引数の値を表示させるが、display()は**配列のレイアウトを保ったまま表示**できる。